(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a09220a"],{"0183":function(t,e,a){"use strict";a("3c82")},"3c82":function(t,e,a){},"7c3c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("v-search",{attrs:{options:t.options,span:6},on:{search:t.onSearch},scopedSlots:t._u([{key:"tools",fn:function(){return[e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")]),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:""}},[t._v("删除")]),e("el-button",{attrs:{type:"default",icon:"el-icon-upload2"}},[t._v("导入")])]},proxy:!0}]),model:{value:t.dataForm,callback:function(e){t.dataForm=e},expression:"dataForm"}}),e("div",{staticClass:"app-container"},[e("v-table",{attrs:{loading:t.loading,data:t.tableData,columns:t.columns,total:t.total,page:t.listQuery.p,limit:t.listQuery.ps},on:{"update:page":function(e){return t.$set(t.listQuery,"p",e)},"update:limit":function(e){return t.$set(t.listQuery,"ps",e)},pagination:t._adminList},scopedSlots:t._u([{key:"selection",fn:function(){return[e("el-table-column",{attrs:{type:"selection",width:"55"}})]},proxy:!0},{key:"status",fn:function({scope:a}){return[e("el-tag",[t._v(t._s(a.row.status?"启用":"禁用"))])]}},{key:"actions",fn:function({scope:a}){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.navigateTo("/ums/user/assign-role/"+a.row.id)}}},[t._v("分配角色")]),e("el-divider",{attrs:{direction:"vertical"}}),e("el-button",{attrs:{type:"text"},on:{click:t.onClick}},[t._v("修改密码")]),e("el-divider",{attrs:{direction:"vertical"}}),e("el-button",{attrs:{type:"text"}},[t._v("编辑")]),e("el-divider",{attrs:{direction:"vertical"}}),e("v-confirm",{attrs:{title:"此操作将永久删除选择的用户, 是否继续?",icon:"el-icon-info",iconColor:"red"}},[e("el-button",{attrs:{type:"text"}},[t._v("删除")])],1)]}}])})],1),e("pass-word-dialog",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},l=[],o=a("0863"),i=a("959c"),r=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.visible,title:"修改密码","close-on-click-modal":!1,width:"380px"},on:{"update:visible":function(e){t.visible=e}}},[e("el-form",{ref:"dataForm",attrs:{"label-position":"left","label-width":"80px",model:t.dataForm,rules:t.rules}},[e("el-form-item",{attrs:{label:"密码",prop:"password"}},[e("el-input",{attrs:{type:"password"},model:{value:t.dataForm.password,callback:function(e){t.$set(t.dataForm,"password",e)},expression:"dataForm.password"}})],1),e("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[e("el-input",{attrs:{type:"password"},model:{value:t.dataForm.checkPass,callback:function(e){t.$set(t.dataForm,"checkPass",e)},expression:"dataForm.checkPass"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:t.onClose}},[t._v("关闭")]),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.onConfirm}},[t._v("确定")])],1)],1)},n=[],c={name:"PassWordDialog",props:{value:Boolean},watch:{value(t){this.visible=t}},data(){return{visible:this.value,dataForm:{password:"",checkPass:""},rules:{password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:(t,e,a)=>{""!==this.dataForm.checkPass&&this.$refs.dataForm.validateField("checkPass"),a()},trigger:"blur"}],checkPass:[{required:!0,message:"请再输入确认密码",trigger:"blur"},{validator:(t,e,a)=>{e!==this.dataForm.password?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]}}},methods:{onClose(){this.visible=!1,this.$emit("input",!1)},onConfirm(){this.visible=!1,this.$emit("input",!1)}}},u=c,d=a("2877"),p=Object(d["a"])(u,r,n,!1,null,null,null),m=p.exports;const b=[{label:"用户名",key:"name",value:"",placeholder:"用户名",type:"input"},{label:"登录账号",key:"account",value:"",placeholder:"登录账号",type:"input"},{label:"手机",key:"mobile",value:"",placeholder:"手机",type:"input"},{label:"角色",key:"role",value:"",placeholder:"角色",type:"select",options:[]},{label:"邮箱",key:"email",value:"",placeholder:"邮箱",type:"input"},{label:"状态",key:"status",value:"",placeholder:"状态",type:"select",options:[]}],h=[{label:"用户名",key:"name"},{label:"登录账号",key:"account"},{label:"手机",key:"mobile"},{label:"邮箱",key:"email"},{label:"角色",key:"role"},{label:"状态",key:"status"},{label:"创建时间",key:"create_time"},{label:"最后登录",key:"login_time"},{label:"操作",key:"actions",width:260}];var v={name:"User",directives:{action:i["a"]},data(){return{options:[],total:0,listQuery:{p:1,ps:10},dataForm:{},loading:!1,tableData:[],columns:[],show:!1}},created(){this.options=b,this.columns=h,this._adminList()},methods:{navigateTo(t){this.$router.push({path:t})},async _adminList(){this.loading=!0;const t=Object.assign({},this.listQuery,this.dataForm),e=await Object(o["a"])(t);this.tableData=e.data.items,this.total=e.data.total,this.loading=!1},onSearch(){this.listQuery.p=1,this._adminList()},onClick(){this.show=!0}},components:{PassWordDialog:m}},y=v,k=(a("0183"),Object(d["a"])(y,s,l,!1,null,null,null));e["default"]=k.exports}}]);